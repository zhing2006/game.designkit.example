# 核心玩法循环设计：归途（The Way Back）

<!-- Core Loop Design Document for Global Spec 000-game-vision -->
<!-- Created: 2025-11-05 -->
<!-- Source: spec.md (lines 34-44) + research.md (Section 2) -->

**规范分支**: `000-game-vision` | **文档类型**: 全局设计文档
**创建日期**: 2025-11-05 | **设计支柱**: 支柱1（保证撤离的良性循环）、支柱2（屯积的正反馈快感）

---

## 文档概述

本文档定义《归途》的三层玩法循环设计:短循环（单局15-30分钟）、长循环（跨局成长）、元循环（战略层）,以及它们之间的相互支持关系。

**设计理念**: 通过多层次循环设计,提供即时满足（短循环）、持续动力（长循环）和长期目标（元循环）,确保玩家在不同游玩阶段都有明确的追求。

---

## 1. 三层循环架构

### 1.1 循环层次概览

| 循环层次 | 时间跨度 | 核心体验 | 主要反馈 |
|---------|---------|---------|---------|
| **短循环** | 15-30分钟 | 紧张刺激的"搜-打-撤"冒险 | 物资奖励、撤离成功的释放感 |
| **长循环** | 10-20小时 | 技巧成长和装备积累 | 装备升级、技能提升、探索新区域 |
| **元循环** | 50-100小时 | 战略决策和身份认同 | 阵营声望、专属资源、影响游戏世界 |

**设计原则**: 三层循环不是独立存在,而是相互支持、层层递进的有机整体。

---

## 2. 短循环（Single Session Loop）

### 2.1 循环定义

**时间跨度**: 15-30分钟
**核心目标**: 在危险区域搜刮物资并成功撤离
**体验主题**: 紧张刺激的风险-回报决策

---

### 2.2 循环结构

```
准备装备（安全区）
    ↓
进入危险区域
    ↓
搜刮物资（多次迭代）
    ↓
遭遇敌人（僵尸/其他玩家）
    ↓
战斗决策（打或逃）
    ↓
前往撤离点
    ↓
成功撤离 → 获得物资奖励 → [返回准备装备]
    或
撤离失败 → 损失物资但保留经验 → [返回准备装备]
```

---

### 2.3 循环阶段详解

#### 阶段1: 准备装备（2-5分钟）

**地点**: 安全区（定居点）
**玩家行为**:
- **整理和出售战利品**: 查看上一局获得的物资，出售不需要的物资换取货币
- **购买/升级装备**: 使用货币购买新装备、弹药、医疗用品，或升级现有装备
- **选择携带装备**: 从仓库中选择本局携带的装备（枪械、弹药、医疗）
- **规划路线和策略**: 查看地图，规划搜刮路线和撤离策略
- **设定本局目标**: 搜刮特定物资、完成阵营任务、探索新区域等

**设计要点**:
- **交易系统**: 提供清晰的物资价值展示和交易界面
- **装备对比**: 显示装备属性对比和推荐配置
- **经济反馈**: 显示货币余额、出售收入、购买花费的即时反馈
- **风险评估**: 显示不同区域的风险等级和推荐装备
- **仓库管理**: 允许玩家存储装备和物资，查看品质分类

**经济循环**:
```
上一局收获 → 出售多余物资 → 获得货币 → 购买需要的装备 → 准备下一局
```

**输入**: 上一局的收获、当前装备库存、货币余额
**输出**: 本局携带的装备和计划、更新后的货币余额
**反馈**: 装备评分、货币变化、路线推荐

---

#### 阶段2: 进入危险区域（1-2分钟）

**地点**: 从安全区边缘进入危险区域
**玩家行为**:
- 选择进入点（多个可选）
- 观察周围环境和可能的威胁
- 初步调整策略（是否需要改变路线）

**设计要点**:
- 多个进入点提供战术选择
- 进入点附近相对安全,给玩家缓冲时间
- 环境音效和视觉线索提示威胁等级

**输入**: 装备和计划
**输出**: 初始位置和态势感知
**反馈**: 环境音效、视觉线索、威胁提示

---

#### 阶段3: 搜刮物资（5-15分钟,多次迭代）

**地点**: 危险区域内的各个搜刮点（废弃建筑、车辆、仓库等）
**玩家行为**:
- 探索环境,寻找物资点
- 搜刮物资（食物、药品、弹药、装备等）
- 评估物资价值和背包空间
- 决策取舍（带枪还是带物资？）

**设计要点**:
- 物资点分布合理,确保玩家有足够收获
- 五级品质分级（白<绿<蓝<紫<金）创造期待感
- 背包容量限制创造战术取舍
- 搜刮动画保持紧张感（不能快速搜刮）

**物资掉落保证**（设计支柱2体现）:
- 每个搜刮点至少1-2件物资
- 每次成功撤离至少3-5件蓝色品质以上物资
- 动态掉落比例按难度区域分层:
  - 低难度区域: 白40% | 绿30% | 蓝20% | 紫8% | 金2%
  - 中难度区域: 白25% | 绿30% | 蓝25% | 紫15% | 金5%
  - 高难度区域: 白10% | 绿20% | 蓝30% | 紫25% | 金15%

**输入**: 当前背包容量和装备
**输出**: 搜刮到的物资
**反馈**: 物资品质视觉提示、背包容量UI、价值评估

---

#### 阶段4: 战斗决策（1-5分钟）

**地点**: 危险区域内,遭遇敌人时
**玩家行为**:
- 评估威胁（僵尸数量/玩家装备）
- 决策战斗或撤退
- 执行战术（交战/潜行绕行/快速逃离）

**设计要点**:
- 提供足够信息让玩家做出决策（敌人数量、距离、装备）
- 战斗有明确风险-回报权衡（击杀玩家可获得其物资,但有死亡风险）
- 允许玩家选择避战（潜行、绕路、躲藏）

**战斗类型**:
- **PvE（对僵尸）**: 相对可预测,可通过技巧和策略应对
- **PvP（对其他玩家）**: 高风险高回报,失败损失物资,成功获得对方物资

**输入**: 当前装备、物资、血量
**输出**: 战斗结果（胜利/撤退/失败）
**反馈**: 战斗音效、血量UI、敌人状态

---

#### 阶段5: 前往撤离点（2-5分钟）

**地点**: 从当前位置前往撤离点
**玩家行为**:
- 选择撤离点（多个可选）
- 规划撤离路线（安全但耗时 vs 快速但危险）
- 应对途中威胁（僵尸/玩家伏击）

**设计要点**（设计支柱1体现）:
- **多撤离点机制**: 每个区域3-5个撤离点,防止被封锁
- **部分随机化**: 撤离点位置部分随机刷新,降低被蹲守风险
- **备用撤离点**: 提供"安全但耗时"的备用路径
- **撤离时间**: 到达撤离点后需等待15-30秒（撤离动画）,创造最后的紧张感

**撤离点类型**:
- **主撤离点**: 距离较近,但可能有其他玩家
- **备用撤离点**: 距离较远,但更安全
- **应急撤离点**: 条件触发（如受伤严重时）,位置随机

**输入**: 当前物资和状态
**输出**: 撤离成功或失败
**反馈**: 撤离点位置提示、倒计时UI、周围威胁警告

---

#### 阶段6: 撤离成功（30秒-2分钟）

**地点**: 撤离动画 → 安全区
**玩家体验**: 强烈的释放感和成就感

**设计要点**:
- **撤离动画**: 直升机/船只接应,视觉和听觉强化成功感
- **物资结算**: 清晰展示本局收获（品质、数量、价值）
- **经验和技能提升**: 显示本局获得的经验和技能进度
- **即时反馈**: "仓库 +5件蓝色物资"等清晰提示

**反馈机制**（设计支柱2体现）:
- 物资品质视觉分级（颜色编码）
- 仓库容量进度条（视觉满足感）
- 成就解锁提示（"首次满载撤离"等）
- 下一局推荐（"你现在可以尝试中难度区域"）

**输入**: 本局搜刮的物资
**输出**: 物资加入仓库、经验和技能提升
**反馈**: 物资结算UI、成就提示、仓库可视化

---

#### 阶段7: 撤离失败（1-3分钟）

**地点**: 死亡 → 复活点
**玩家体验**: 挫败但不绝望

**设计要点**（可接近性设计）:
- **保留技能经验**: 技能等级和经验永不丢失
- **保底机制**: 玩家总有"保底装备"可用,不会完全破产
- **失败反馈**: 显示死亡原因和改进建议
- **复仇动力**: 记录击杀者位置（如果是玩家）,提供"复仇"动力

**容错机制**:
- 借贷任务: 失败多次后可接受"借贷任务",完成后获得装备
- 保底装备: 永远可用的基础装备（低品质枪械、少量弹药）
- 技能永存: 即使失败,技能经验也会保留

**输入**: 死亡状态
**输出**: 复活但失去物资
**反馈**: 死亡原因分析、改进建议、复仇提示

---

### 2.4 短循环的输入-输出-反馈

```
【输入】
- 玩家技能水平
- 当前装备库存
- 本局目标（任务/物资需求）

【过程】
- 准备 → 进入 → 搜刮 → 战斗 → 撤离

【输出】
- 物资奖励（成功时）
- 技能经验（成功或失败都有）
- 战术经验和教训

【反馈】
- 即时: 物资获得、战斗结果、撤离成功/失败
- 短期: 物资结算、仓库更新、经验提升
- 引导下一次: 推荐下一局目标和装备
```

---

### 2.5 短循环的设计支柱体现

#### 支柱1: 保证撤离的良性循环

**体现**:
- 多撤离点机制（3-5个/区域）
- 部分随机化防止被封锁
- 备用撤离点提供安全路径
- 撤离成功率与技巧正相关（新手40-50%,老手60-70%）

**质量标准**: 技巧型玩家撤离成功率至少60%

---

#### 支柱2: 屯积的正反馈快感

**体现**:
- 五级品质分级创造期待感
- 每次成功撤离至少3-5件蓝色品质以上物资
- 动态掉落比例平衡"经常有收获"和"稀有惊喜"
- 仓库可视化强化积累满足感

**质量标准**: 每次成功撤离至少带回3-5件有价值物资

---

## 3. 长循环（Progression Loop）

### 3.1 循环定义

**时间跨度**: 10-20小时
**核心目标**: 技巧成长和装备积累
**体验主题**: 从新手到熟手的掌控感提升

---

### 3.2 循环结构

```
积累物资（多次短循环）
    ↓
升级装备/解锁配方
    ↓
扩充仓库容量
    ↓
接受更高难度任务
    ↓
探索更危险区域（高风险高回报）
    ↓
获取稀有物资（紫/金品质）
    ↓
提升技能等级
    ↓
选择阵营立场（进入元循环）
    ↓
[循环继续,追求更高目标]
```

---

### 3.3 成长维度

#### 维度1: 装备积累与升级

**成长路径**:
1. **基础装备**（0-3小时）: 白色/绿色品质装备,基础枪械
2. **改良装备**（3-8小时）: 蓝色品质装备,配件系统解锁
3. **精良装备**（8-15小时）: 紫色品质装备,专业化配件
4. **传奇装备**（15+小时）: 金色品质装备,稀有独特装备

**设计要点**:
- 装备升级路径清晰可见
- 每个品质等级有明显性能提升
- 稀有装备通过探索和任务获得,而非氪金购买

---

#### 维度2: 技能提升

**技能树设计**（精简,聚焦核心体验）:
- **生存技能**: 提升血量、降低饥饿速度、提高耐力
- **战斗技能**: 降低后坐力、提高换弹速度、提升爆头伤害
- **搜刮技能**: 提高稀有物资发现率、加快搜刮速度、增加背包容量
- **战术技能**: 提高移动速度、降低脚步声、提升感知范围

**设计原则**:
- 技能永不丢失（即使死亡）
- 技能提升通过游玩自然获得,而非强制刷经验
- 每个技能都有实际作用,不是数值膨胀

---

#### 维度3: 仓库扩展

**成长路径**:
1. **初始仓库**（0小时）: 20格容量
2. **扩展仓库1**（5小时）: 40格容量
3. **扩展仓库2**（12小时）: 60格容量
4. **大型仓库**（20+小时）: 100格容量

**设计要点**:
- 仓库扩展通过游玩解锁,而非付费购买（或允许付费但不影响核心体验）
- 仓库可视化设计强化"屯屯鼠"满足感
- 提供品质筛选、分类和排序功能

---

#### 维度4: 地图探索

**区域解锁顺序**:
1. **低难度区域**（0-5小时）: 郊区废墟、小型商业区
2. **中难度区域**（5-15小时）: 大型购物中心、医院、军事据点
3. **高难度区域**（15+小时）: 市中心摩天楼、地下实验室、军事基地

**设计要点**:
- 难度分层自然分流不同水平玩家
- 高难度区域提供更高价值物资（紫/金品质）
- 每个区域有独特的环境和威胁（如地下实验室有特殊僵尸）

---

### 3.4 长循环的反馈机制

**即时反馈**:
- 装备升级后性能明显提升
- 技能等级提升有明确提示和效果展示
- 仓库扩展后容量增加可视化

**短期反馈**（数小时）:
- 可以接受更高难度任务
- 探索之前无法进入的区域
- 获得之前无法获取的稀有物资

**长期反馈**（数十小时）:
- 从新手成长为熟手的掌控感
- 装备库从空到满的视觉满足
- 技能树完成度的成就感

---

## 4. 元循环（Meta Loop）

### 4.1 循环定义

**时间跨度**: 50-100小时
**核心目标**: 战略决策和身份认同
**体验主题**: 影响游戏世界,选择自己的立场

---

### 4.2 循环结构

```
观察三大阵营任务奖励
    ↓
评估阵营理念和专属资源
    ↓
选择加入某阵营
    ↓
完成阵营任务获得声望
    ↓
解锁阵营专属物资/地图
    ↓
体验阵营专属玩法
    ↓
评估是否需要调整阵营立场
    ↓
[选择继续当前阵营 或 切换阵营（有冷却期）]
```

---

### 4.3 三大阵营体系

#### 阵营1: 秩序同盟（The Order）

**理念**: 重建文明,恢复秩序
**前世身份**: 政府机关人员、执法部门、医疗人员
**资源侧重**: 医疗物资（高级医疗包、抗生素、疫苗原料）
**专属玩法**: 救援任务（救助幸存者）、清理任务（清理僵尸巢穴）
**吸引玩家**: 道德导向玩家、喜欢PvE的玩家

**阵营声望等级**:
1. **新兵**（0-1000声望）: 基础医疗物资交易权限
2. **士兵**（1000-3000声望）: 高级医疗物资交易权限
3. **军官**（3000-6000声望）: 专属地图"秩序基地"访问权限
4. **指挥官**（6000+声望）: 稀有医疗物资和专属装备

---

#### 阵营2: 荒野猎人（The Wildcards）

**理念**: 适者生存,强者为王
**前世身份**: 失控军队、雇佣军、幸存者联盟
**资源侧重**: 武器装备（高级枪械、弹药、爆炸物）
**专属玩法**: 狩猎任务（猎杀特殊僵尸）、竞技任务（PvP挑战）
**吸引玩家**: 战斗导向玩家、喜欢PvP的玩家

**阵营声望等级**:
1. **猎人**（0-1000声望）: 基础武器交易权限
2. **精英猎人**（1000-3000声望）: 高级武器交易权限
3. **战争领主**（3000-6000声望）: 专属地图"荒野营地"访问权限
4. **传奇猎人**（6000+声望）: 稀有武器和专属装备

---

#### 阵营3: 黎明贸易团（The Dawn Traders）

**理念**: 务实主义,物资流通为先
**前世身份**: 人道救援组织、物流公司、商人
**资源侧重**: 物资流通（高效交易、物资兑换、仓库服务）
**专属玩法**: 贸易任务（运输物资）、中立任务（为其他阵营提供服务）
**吸引玩家**: 生存导向玩家、喜欢经营和积累的玩家

**阵营声望等级**:
1. **搬运工**（0-1000声望）: 基础交易折扣
2. **商人**（1000-3000声望）: 高级交易折扣、仓库扩容服务
3. **贸易大师**（3000-6000声望）: 专属地图"黎明市场"访问权限
4. **贸易领袖**（6000+声望）: 稀有物资和专属装备

---

### 4.4 阵营关系与玩法影响

#### 对立关系

**秩序同盟 vs 荒野猎人**:
- 理念冲突: 重建文明 vs 适者生存
- PvP规则: 同阵营玩家不能互相攻击,不同阵营可以自由交战
- 任务冲突: 某些任务需要阻止对方阵营的行动

---

#### 合作关系

**三大阵营面对僵尸潮**:
- 定期事件"僵尸潮": 大量僵尸攻击定居点
- 临时联盟: 三大阵营玩家合作防御
- 共同奖励: 成功防御后所有参与玩家获得奖励

---

#### 中立方

**黎明贸易团的桥梁作用**:
- 中立立场: 不参与秩序和荒野的直接冲突
- 贸易桥梁: 为其他两个阵营提供物资交易服务
- 玩法缓冲: 不喜欢PvP的玩家可以加入黎明贸易团,专注PvE和经营

---

### 4.5 阵营切换机制

**设计原则**: 允许切换,但有冷却期和代价

**切换规则**:
- **冷却期**: 30天（游戏时间）或100小时（真实游玩时间）
- **声望重置**: 切换阵营后,原阵营声望降为0,新阵营从0开始
- **专属物资**: 原阵营专属物资可保留,但无法继续获取

**为什么允许切换**:
- 玩家可以体验不同阵营的玩法
- 避免"选错阵营"的终身遗憾
- 增加重玩价值

---

### 4.6 元循环的反馈机制

**即时反馈**:
- 完成阵营任务后声望提升
- 解锁阵营专属物资和地图

**短期反馈**（数十小时）:
- 阵营声望等级提升
- 获得稀有专属装备
- 访问专属地图和玩法

**长期反馈**（数百小时）:
- 身份认同感（"我是秩序同盟的指挥官"）
- 影响游戏世界（阵营势力扩大）
- 战略层满足感（选择立场和资源路线）

---

## 5. 三层循环的相互支持关系

### 5.1 短循环支持长循环

**物资积累 → 装备升级**:
- 短循环获得的物资用于长循环的装备升级和配方解锁
- 每次成功撤离都为长期成长做出贡献

**技能经验 → 技能提升**:
- 短循环中的游玩行为（战斗、搜刮、撤离）自然积累技能经验
- 长循环中的技能提升反过来提高短循环的成功率

---

### 5.2 短循环支持元循环

**阵营任务 → 声望积累**:
- 短循环中可以接受阵营任务（如运输物资、清理僵尸）
- 完成阵营任务获得声望,推进元循环

**资源选择 → 阵营倾向**:
- 玩家在短循环中偏好搜刮的物资类型（医疗/武器/通用）会影响阵营选择
- 元循环的阵营系统为短循环提供了战略方向

---

### 5.3 长循环支持短循环

**装备升级 → 短循环成功率**:
- 长循环中的装备升级直接提高短循环的撤离成功率
- 技能提升让玩家在短循环中更有掌控感

**地图解锁 → 短循环多样性**:
- 长循环中解锁的新地图为短循环提供新鲜感
- 不同难度区域让短循环有更多选择

---

### 5.4 长循环支持元循环

**实力积累 → 阵营贡献**:
- 长循环中积累的实力让玩家在元循环中能完成更高难度的阵营任务
- 高级装备和技能让玩家在阵营冲突（PvP）中更有竞争力

---

### 5.5 元循环支持短循环

**专属物资 → 短循环优势**:
- 元循环中解锁的阵营专属物资为短循环提供战略优势
- 专属地图提供独特的短循环体验

**身份认同 → 短循环动力**:
- 元循环中的阵营身份为短循环提供"为谁而战"的意义感
- 阵营任务为短循环提供明确目标

---

### 5.6 元循环支持长循环

**阵营专属资源 → 成长路径**:
- 元循环中的阵营选择决定长循环的成长路径（医疗/武器/经营）
- 阵营声望解锁稀有物资,加速长循环成长

---

## 6. 循环图绘制

### 6.1 短循环图

```
                    [准备装备]
                         ↓
                    [进入危险区]
                         ↓
                    [搜刮物资] ←─┐
                         ↓       │（多次迭代）
                    [遭遇敌人]   │
                         ↓       │
                  [战斗决策] ────┘
                    /         \
              [继续搜刮]    [前往撤离点]
                                 ↓
                          [等待撤离15-30秒]
                                 ↓
                    [成功撤离] / [撤离失败]
                         ↓           ↓
                  [物资奖励]     [失去物资]
                         ↓           ↓
                  [经验提升]     [保留经验]
                         ↓           ↓
                     [返回准备装备]
```

---

### 6.2 长循环图

```
    [积累物资]（多次短循环）
           ↓
    [升级装备/解锁配方]
           ↓
    [扩充仓库容量]
           ↓
    [提升技能等级]
           ↓
    [接受更高难度任务]
           ↓
    [探索更危险区域]
           ↓
    [获取稀有物资]
           ↓
    [选择阵营立场]（进入元循环）
           ↓
    [继续积累和成长]
```

---

### 6.3 元循环图

```
    [观察三大阵营]
           ↓
    [评估阵营理念和资源]
           ↓
    [选择加入某阵营]
           ↓
    [完成阵营任务]（短循环中执行）
           ↓
    [获得声望]
           ↓
    [解锁阵营专属物资/地图]
           ↓
    [评估阵营选择]
      /          \
[继续当前阵营]  [切换阵营]（有冷却期）
      \          /
    [持续积累声望和影响力]
```

---

### 6.4 三层循环整合图

```
【元循环】（50-100小时）
    阵营选择 → 声望积累 → 专属资源
         ↓         ↑
         支持      反馈
         ↓         ↑
【长循环】（10-20小时）
    装备升级 → 技能提升 → 地图解锁
         ↓         ↑
         支持      反馈
         ↓         ↑
【短循环】（15-30分钟）
    搜刮 → 战斗 → 撤离 → 物资奖励
```

---

## 7. 时间跨度定义

| 循环层次 | 时间跨度 | 完成标志 | 重复频率 |
|---------|---------|---------|---------|
| **短循环** | 15-30分钟 | 成功撤离或死亡 | 每次游玩 |
| **长循环** | 10-20小时 | 装备和技能达到阶段性目标 | 数天到数周 |
| **元循环** | 50-100小时 | 阵营声望达到最高等级 | 数周到数月 |

**设计说明**: 时间跨度是定性描述,实际游玩时间会因玩家水平和游戏风格差异而有所不同。

---

## 8. 设计支柱对齐验证

### 8.1 支柱1: 保证撤离的良性循环

**短循环体现**:
- 多撤离点机制（3-5个/区域）
- 部分随机化防止被封锁
- 备用撤离点提供安全路径
- 撤离成功率与技巧正相关

**长循环体现**:
- 技能提升自然提高撤离成功率
- 装备升级提供更多战术选择
- 失败容错机制确保"东山再起"路径

**对齐度**: ✅ 完全对齐

---

### 8.2 支柱2: 屯积的正反馈快感

**短循环体现**:
- 每次成功撤离至少3-5件蓝色品质以上物资
- 五级品质分级创造期待感
- 物资结算清晰展示收获

**长循环体现**:
- 仓库从空到满的视觉满足感
- 物资积累用于装备升级,形成正反馈
- 仓库可视化和分类强化积累快感

**元循环体现**:
- 阵营专属物资增加收集目标
- 声望系统提供另一种"积累"满足感

**对齐度**: ✅ 完全对齐

---

## 9. 关键设计指标

| 指标 | 短循环 | 长循环 | 元循环 |
|-----|--------|--------|--------|
| **时间跨度** | 15-30分钟 | 10-20小时 | 50-100小时 |
| **成功标志** | 成功撤离 | 装备/技能达标 | 阵营最高声望 |
| **失败容错** | 保留经验 | 保底装备 | 可切换阵营 |
| **反馈频率** | 即时 | 数小时 | 数十小时 |
| **重复价值** | 高（每次不同） | 中（阶段性目标） | 低（长期目标） |

---

## 10. 下一步行动

1. **阅读**: world-setting.md（世界观设定文档）
2. **验证**: 三层循环设计是否与用户故事1的验收场景一致
3. **检查**: 是否充分体现设计支柱1和支柱2

---

**文档版本**: 1.0
**最后更新**: 2025-11-05
**相关文档**: [game-vision.md](./game-vision.md) | [spec.md](../../gamespecs/000-game-vision/spec.md) | [research.md](../../gamespecs/000-game-vision/research.md)
