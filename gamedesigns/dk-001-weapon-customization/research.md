# 设计决策研究：枪匠系统（武器定制）

**功能**：001-weapon-customization | **分支**：`001-weapon-customization`
**创建日期**：2025-11-14 | **研究版本**：1.0.0

---

## 研究概述

本文档包含枪匠系统设计前的关键决策研究，为后续策划案编写提供设计依据和最佳实践参考。研究基于参考游戏分析、设计支柱对齐和用户体验目标。

**研究范围**：6个关键设计决策点
**参考游戏**：《逃离塔科夫》《使命召唤：现代战争》《彩虹六号：围攻》《CS:GO》《Apex英雄》

---

## 研究1：组件数值平衡方法论

### 研究问题

如何设计组件属性权衡，确保高品质组件有优势但不破坏游戏平衡？

### 参考游戏分析

**《逃离塔科夫》的数值权衡模型**：
- **优点**：真实的物理权衡（加装重型握把降低后坐力，但增加重量和切枪时间）
- **问题**：数值维度过多（15+种属性），新手难以理解最优配置
- **借鉴**：属性权衡的真实感（没有"纯增益"组件）

**《使命召唤：现代战争》的可视化对比**：
- **优点**：5维雷达图清晰展示属性变化（射程、精准度、机动性、控制、射速）
- **优点**：绿色/红色箭头标识增益/减益，新手一目了然
- **借鉴**：简化属性维度到5个核心维度，便于理解和对比

### 设计决策

**核心原则**：
1. **属性维度限制**：每个组件最多影响2-3个核心属性，避免《塔科夫》的复杂度
2. **权衡设计**：高品质组件不是"纯增益"，而是"更优的权衡"
   - 白色组件：单一正向属性，明显负向属性（如 +5%精准 -10%机动）
   - 金色组件：多重正向属性，轻微负向属性（如 +15%精准 +8%射程 -3%机动）
3. **品质递进公式**：
   - 白色 → 绿色：正向属性 +60%，负向属性 -30%
   - 绿色 → 蓝色：正向属性 +50%，负向属性 -40%
   - 蓝色 → 紫色：正向属性 +30%，负向属性 -50%
   - 紫色 → 金色：正向属性 +20%，负向属性 -60%，或新增正向属性

**五大核心属性**：
1. **后坐力控制**（Recoil Control）：影响连续射击的准星跳动
2. **精准度**（Accuracy）：影响射击散布和命中率
3. **射程**（Range）：影响有效射程和伤害衰减
4. **机动性**（Mobility）：影响移动速度和切枪速度
5. **射速**（Fire Rate）：影响每分钟射击次数（部分组件）

**平衡验证方法**：
- 计算"有效战斗力"指标（加权求和：后坐力×0.3 + 精准度×0.25 + 射程×0.2 + 机动性×0.15 + 射速×0.1）
- 确保金色组件的有效战斗力不超过白色组件的150%（避免数值碾压）
- 通过配置测试验证不同场景（CQB、中距离、远程）的最优配置差异

---

## 研究2：槽位兼容性规则

### 研究问题

如何设计兼容性检查，在避免过度复杂的同时保留真实感？

### 参考游戏分析

**《逃离塔科夫》的高复杂度兼容性**：
- **特点**：需要转接件、导轨、安装底座等多层依赖
- **问题**：新手经常遇到"这个瞄具无法安装"但不理解原因（缺少某个导轨）
- **避免**：过度真实导致可玩性下降

**《使命召唤：现代战争》的简化兼容性**：
- **特点**：每个槽位独立，组件自动兼容该槽位
- **优点**：新手友好，无需理解复杂依赖
- **借鉴**：大部分槽位使用简化兼容性

### 设计决策

**兼容性规则层级**：

**第1层（简单规则，应用于大部分组件）**：
- 槽位匹配即兼容：握把槽位只能安装握把组件，瞄具槽位只能安装瞄具
- 无需转接件或依赖检查

**第2层（特殊规则，仅应用于少数高级组件）**：
- 某些高倍瞄具需要"枪托提供稳定性"（如4倍以上瞄具需要枪托槽位已安装组件）
- 某些下挂榴弹需要"枪口槽位为空"（物理冲突）
- 提示清晰："该瞄具需要安装枪托以提供稳定性"

**兼容性检查UI设计**：
- **预检查**：选择槽位时，不兼容组件灰显并悬停提示原因
- **错误提示**：尝试安装时弹出提示："建议先安装战术枪托，再安装此瞄具"
- **解决方案**：提供"一键安装推荐配置"按钮，自动安装依赖组件

**设计原则**：
- 80%的组件无兼容性限制（简单规则）
- 20%的高级组件有兼容性要求（增加深度但不强制）
- 所有兼容性问题都提供清晰提示和解决方案

---

## 研究3：配置管理UX最佳实践

### 研究问题

如何设计配置切换流程，让老手高效切换、新手也能理解？

### 参考游戏分析

**《使命召唤：现代战争》的预设配置系统**：
- **优点**：
  - 10个预设配置模板（如"突击手"、"狙击手"、"支援手"）
  - 每个模板有推荐组件和配置理念说明
  - 一键应用预设，新手3秒上手
- **借鉴**：提供至少3个系统推荐配置

**《彩虹六号：围攻》的装备方案保存**：
- **优点**：
  - 保存自定义装备方案，命名为"办公室守点"、"楼梯突破"等
  - 切换方案时显示所需装备和当前库存对比
  - 快速切换，无繁琐操作
- **借鉴**：自定义配置命名和快速切换

### 设计决策

**配置管理UI布局**：

```
┌─────────────────────────────────────────────┐
│  枪匠工作台 - 配置管理                        │
├─────────────────────────────────────────────┤
│                                             │
│  当前武器: [M4步枪]         [3D旋转视图]     │
│  当前配置: CQB配置                           │
│                                             │
│  ┌──────────────┬──────────────┬──────────┐ │
│  │ 系统推荐配置  │ 我的配置      │ 新建配置 │ │
│  └──────────────┴──────────────┴──────────┘ │
│                                             │
│  系统推荐：                                  │
│  ┌─────────────────────────────────────┐    │
│  │ [图标] 新手友好配置                  │    │
│  │ 低后坐力、易控制                     │    │
│  │ 需要: ✅全部拥有  [应用]             │    │
│  └─────────────────────────────────────┘    │
│                                             │
│  我的配置：                                  │
│  ┌─────────────────────────────────────┐    │
│  │ [图标] CQB配置 (当前)                │    │
│  │ 高机动性、近距离作战                 │    │
│  │ [查看详情] [切换] [编辑]             │    │
│  └─────────────────────────────────────┘    │
│  ┌─────────────────────────────────────┐    │
│  │ [图标] 远程配置                      │    │
│  │ 高精准、远距离狙击                   │    │
│  │ 缺少: ❌精准弹匣 x1  [切换] [编辑]   │    │
│  └─────────────────────────────────────┘    │
│                                             │
└─────────────────────────────────────────────┘
```

**配置切换流程图**：

```
玩家选择"切换配置"
  ↓
检查库存（是否拥有所有组件？）
  ├─ YES → 确认切换
  │         ↓
  │       卸下当前配置的所有组件（返回库存）
  │         ↓
  │       安装新配置的所有组件（从库存扣除）
  │         ↓
  │       播放切换动画（<3秒）
  │         ↓
  │       切换完成
  │
  └─ NO → 显示缺失组件列表
            ↓
          提供选项：
          - "使用其他组件替代"（显示替代品列表）
          - "取消切换"
            ↓
          玩家选择后继续或取消
```

**设计决策**：
1. **系统推荐配置**：提供3个预设（新手友好、远程精准、近战突击）
2. **自定义配置槽位**：至少5个（覆盖不同战斗场景需求）
3. **配置命名**：玩家自定义，最多20个字符
4. **切换时间**：<3秒（流畅的UI动画，不打断玩家节奏）
5. **缺失组件处理**：提供替代方案，而非简单拒绝（提升UX）

---

## 研究4：涂装视觉设计层次

### 研究问题

如何通过纯视觉元素体现品质差异，让金色涂装值得追求？

### 参考游戏分析

**《CS:GO》的皮肤品质分级**：
- **白色/灰色**：单色、基础图案
- **蓝色**：简单图案、双色
- **紫色**：复杂图案、多色、磨损效果
- **红色/金色**：稀有图案、特殊材质（如磨砂金属、珠光）
- **借鉴**：通过图案复杂度和材质特殊性体现品质

**《Apex英雄》的传说级动态效果**：
- **特点**：传说级皮肤有动态效果（如发光、动态纹理、击杀特效）
- **优点**：高品质涂装有"炫耀价值"，玩家愿意展示
- **借鉴**：金色传说涂装添加动态效果

### 设计决策

**涂装品质视觉规范**：

| 品质 | 视觉特征 | 材质类型 | 特效 | 示例 |
|------|---------|---------|------|------|
| **白色** | 单色、基础质感 | 哑光金属/塑料 | 无 | 单色黑、军绿色 |
| **绿色** | 双色、简单图案 | 哑光金属 | 无 | 基础迷彩、条纹 |
| **蓝色** | 多色、定制图案 | 磨砂金属/渐变 | 无 | 都市迷彩、渐变色 |
| **紫色** | 复杂艺术图案 | 特殊材质（金属光泽、碳纤维） | 细节光泽 | 龙纹、部落图腾 |
| **金色** | 传说级图案 | 顶级材质（全息、珠光、发光） | 动态效果 | 全息龙、荒野烈焰（发光边缘） |

**设计原则**：
1. **递进视觉复杂度**：白色→金色，图案从简单到复杂，材质从基础到特殊
2. **品质即时识别**：玩家看到涂装3秒内能判断品质（通过颜色、图案复杂度、特效）
3. **动态效果限制**：仅金色传说涂装有动态效果（发光细节、全息图案、击杀特效），避免视觉疲劳
4. **美术成本控制**：
   - 白色/绿色：复用材质，仅改变颜色（低成本）
   - 蓝色/紫色：定制纹理贴图（中成本）
   - 金色：定制模型+动态特效（高成本，数量少）

**特效设计指南**：
- **发光边缘**：金色涂装的武器边缘有微弱发光效果（UE5 Lumen支持）
- **全息图案**：某些金色涂装有全息投影效果的图案（如龙纹会"浮动"）
- **击杀特效**（可选）：使用金色涂装武器击杀敌人时，特殊音效或视觉反馈

---

## 研究5：阵营专属内容差异化

### 研究问题

如何设计三大阵营的组件特色，体现其战斗哲学差异？

### 参考世界观

根据 000-game-vision 的世界观设定：
- **秩序同盟（The Order）**：重建文明秩序，注重精准和可靠性
- **荒野猎人（The Wildcards）**：适者生存，注重火力输出
- **黎明贸易团（The Dawn Traders）**：务实主义，注重平衡和多用途

### 设计决策

**阵营组件特色表**：

| 阵营 | 设计理念 | 组件特色 | 属性偏向 | 专属组件示例 |
|------|---------|---------|---------|-------------|
| **秩序同盟** | 精准可靠 | 军用标准化组件 | 高精准度、低后坐力、中等机动性 | 精准射手握把（+15%精准 -8%射速）、军用标准瞄具 |
| **荒野猎人** | 火力优先 | 激进高伤害组件 | 高射速、高伤害、高后坐力 | 重型制退器（+20%后坐力控制 +15%重量）、扩容弹匣Pro |
| **黎明贸易团** | 平衡多用途 | 中庸实用组件 | 平衡属性、无明显短板 | 多用途握把（+8%精准 +8%机动）、通用瞄具 |

**专属组件设计原则**：
1. **不破坏平衡**：专属组件不是"数值更强"，而是"风格更明确"
   - 秩序同盟的精准握把（+15%精准）vs 荒野猎人的火力握把（+15%射速），数值相当，风格不同
2. **解锁条件**：阵营声望等级2-3解锁，增加阵营投入动力
3. **数量控制**：每个阵营3-5个专属组件（每槽位0-1个），不过度分裂内容

**枪匠任务设计方向**：

**秩序同盟任务**（道德导向）：
- "搜刮5个蓝色品质瞄具并上交"（支援阵营装备）
- "使用精准配置击杀20个僵尸，头部命中率>60%"（展示精准理念）
- 奖励：解锁高级瞄具配方、组件价格-10%

**荒野猎人任务**（战斗导向）：
- "使用改装武器击杀50个僵尸"（展示战斗力）
- "搜刮高伤害组件并测试火力"（符合强者生存理念）
- 奖励：解锁高射速组件、弹药补给折扣

**黎明贸易团任务**（商业导向）：
- "收集3种不同品质的组件并上交"（建立物资流通）
- "使用多用途配置完成5次撤离"（展示实用主义）
- 奖励：所有组件价格-15%（最大折扣）、稀有组件交易权限

---

## 研究6：组件获取频率与掉落概率

### 研究问题

如何设计组件掉落频率，平衡"经常有收获"和"稀有惊喜"？

### 依赖分析

根据 000-game-vision 的核心循环设计：
- **单局时长**：15-30分钟
- **物资正反馈目标**：每次撤离至少3-5件有价值物品（蓝色品质以上）
- **搜刮点数量**：单局预计搜刮10-15个点位（武器箱、军事据点、商店等）

### 设计决策

**品质掉落概率表**（按区域难度）：

| 品质 | 低难度区域 | 中难度区域 | 高难度区域 | Boss掉落 |
|------|-----------|-----------|-----------|---------|
| **白色** | 60% | 40% | 20% | 0% |
| **绿色** | 30% | 35% | 30% | 10% |
| **蓝色** | 8% | 20% | 35% | 30% |
| **紫色** | 2% | 4% | 12% | 40% |
| **金色** | 0% | 1% | 3% | 20% |

**每局预期获取量**：

| 难度区域 | 搜刮点数 | 预期组件数 | 蓝色以上数量 | 紫色以上数量 |
|---------|---------|-----------|------------|------------|
| **低难度** | 10-12个 | 6-8个 | 1-2个 | 0-1个 |
| **中难度** | 12-15个 | 7-10个 | 3-4个 | 0-1个 |
| **高难度** | 15-20个 | 10-15个 | 5-8个 | 2-3个 |

**设计原则**：
1. **基础保障**：即使低难度区域，每局也能获得1-2个蓝色组件（满足"有价值物品"目标）
2. **稀有惊喜**：金色组件掉落率<5%，保持稀缺性和追求价值
3. **风险回报**：高难度区域显著提升蓝色/紫色/金色掉落率（30%-50%是蓝色以上）
4. **渐进式成长**：新手在低难度区域也能慢慢积累蓝色组件，不会因完全无收获而放弃

**掉落点类型分布**：
- **武器箱**（常见）：60%概率有组件，品质偏低（白色/绿色为主）
- **军事据点**（稀有）：80%概率有组件，品质偏高（蓝色/紫色为主）
- **枪匠店铺**（特殊点位）：100%有组件，品质随机但至少绿色
- **Boss掉落**（保底奖励）：必掉1-2个紫色以上组件

---

## 研究总结

### 关键设计决策汇总

1. **数值平衡**：
   - 采用5维属性系统（后坐力、精准度、射程、机动性、射速）
   - 品质递进公式确保金色组件不超过白色的150%战斗力
   - 高品质="更优的权衡"，而非"纯增益"

2. **兼容性规则**：
   - 80%组件无兼容性限制（槽位匹配即可）
   - 20%高级组件有依赖要求（如高倍瞄具需要枪托）
   - 提供清晰提示和一键解决方案

3. **配置管理**：
   - 3个系统推荐配置 + 5个自定义配置槽位
   - 切换时间<3秒，缺失组件提供替代方案
   - UI布局清晰，新手3秒上手

4. **涂装分级**：
   - 通过图案复杂度、材质特殊性、动态效果三层递进
   - 仅金色涂装有动态效果（发光、全息图案）
   - 美术成本控制（白/绿复用材质，金色定制模型）

5. **阵营差异化**：
   - 三大阵营各有3-5个专属组件，风格明确（精准/火力/平衡）
   - 专属组件不是"更强"，而是"更符合阵营理念"
   - 任务设计体现阵营特色（道德/战斗/商业）

6. **掉落频率**：
   - 每局6-15个组件（根据难度区域）
   - 蓝色以上1-8个（满足"有价值物品"目标）
   - 金色掉落率<5%（保持稀缺性）

### 后续设计指导

**系统策划文档（gunsmith-system-design.md）应包含**：
- 基于研究1的数值框架（5维属性、品质递进公式）
- 基于研究2的兼容性规则（80/20原则）
- 基于研究5的阵营特色表（3个阵营的组件风格）

**流程说明文档（weapon-modification-flow.md）应包含**：
- 基于研究3的流程图和UI布局
- 基于研究2的兼容性错误处理

**组件配置表（component-config.csv）应包含**：
- 基于研究1的属性设计（5维属性，品质递进）
- 基于研究6的掉落概率标记

**涂装配置表（skin-config.csv）应包含**：
- 基于研究4的品质视觉规范（材质类型、特效标签）

---

**版本**：1.0.0
**创建日期**：2025-11-14
**最后更新**：2025-11-14
