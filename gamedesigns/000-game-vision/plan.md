# 设计计划：归途（The Way Back）

**分支**：`000-game-vision` | **日期**：2025-11-03 | **规范**：[spec.md](./spec.md)
**输入**：来自 `/gamespecs/000-game-vision/spec.md` 的游戏规范

**注意**：此文档由 `/game.speckit.plan` 命令生成。有关执行工作流程，请参见 `.game.specify/templates/commands/plan.md`。

## 摘要

《归途》是一款硬核提取射击游戏，核心循环为"搜刮-战斗-撤离"（15-30分钟单局），玩家在末世废墟中搜刮物资、对抗僵尸和其他玩家，最终成功撤离并将物资带回安全区。本设计计划采用 **UE5.7 Lumen + Nanite** 技术打造电影级视觉体验，通过**三阵营系统**提供身份认同和内容差异化，并使用**渐进式引导 + 难度分层**设计让广泛受众也能享受硬核玩法。设计核心承诺"保证撤离的良性循环"和"屯屯鼠般的积累快感"，拒绝"搜打，撤不了"的恶性设计。

## 设计上下文

**Game Type/Genre**: 硬核提取射击（Extraction Shooter）+ 生存 + PvE/PvP混合
**Target Platform**: PC（Steam）和主机（PS5/Xbox Series）
**Design Method**: 系统设计（核心循环）+ 数值设计（物资掉落、难度曲线）+ 关卡设计（地图布局、撤离点）
**Dependent Specs**: N/A（本身是全局型规范，后续功能型规范将依赖此规范）
**Reference Games**:
- 《逃离塔科夫》（核心循环、硬核射击）
- 《Hunt: Showdown》（PvPvE平衡、永久损失机制）
- 《第七日杀》（僵尸威胁、资源搜刮）
- 《最后生还者2》（电影级视觉、末世氛围）
**Spec Type**: 全局型（000-game-vision）
**Experience Goals**:
- 紧张刺激的"搜刮-战斗-撤离"循环体验
- "屯屯鼠"般的物资积累快感
- 电影级视觉沉浸感
- 技巧成长带来的掌控感
**Design Constraints**:
- 单局时长15-30分钟
- 独立游戏团队规模（5-15人）
- 开发周期18-36个月
- UE5.7技术栈（Lumen + Nanite）
- 目标帧率：PC 60fps+，主机 30fps+
**Scale/Scope**:
- 全局型游戏愿景，定义核心体验和世界观
- 包含三大阵营系统、多个地图区域、物资品质系统
- 后续功能型规范将细化具体系统（战斗、撤离、阵营等）

## 章程检查

*门限：必须在第 0 阶段研究之前通过。在第 1 阶段设计后重新检查。*

### 设计支柱符合性检查

| 设计支柱 | 检查项 | 状态 | 说明 |
|---------|-------|------|------|
| **支柱1：保证撤离的良性循环** | 撤离机制是否保证技巧型玩家有合理成功率？ | ✅ 通过 | 多撤离点设计、部分随机化、备用撤离点机制确保至少60%成功率 |
| **支柱1：保证撤离的良性循环** | 是否避免"付费逃生"或"强制PvP"设计？ | ✅ 通过 | 明确承诺拒绝氪金影响撤离机制 |
| **支柱2：屯积的正反馈快感** | 物资系统是否提供清晰的正反馈？ | ✅ 通过 | 五级品质分级、动态掉落、仓库可视化设计 |
| **支柱2：屯积的正反馈快感** | 每次成功撤离是否有足够收获？ | ✅ 通过 | 设计目标：每次至少3-5件蓝色品质以上物资 |
| **支柱3：电影级视觉震撼** | 是否充分利用UE5.7技术优势？ | ✅ 通过 | Lumen全局光照 + Nanite虚拟几何全面应用 |
| **支柱3：电影级视觉震撼** | 视觉表现是否达到电影级标准？ | ✅ 通过 | 参考《最后生还者2》和《地铁：离去》的写实风格 |
| **支柱4：可接近的硬核体验** | 新手引导是否降低准入门槛？ | ✅ 通过 | 渐进式教程、难度分层、可选辅助设计 |
| **支柱4：可接近的硬核体验** | 是否保留硬核深度？ | ✅ 通过 | 真实枪械手感、战术决策、永久损失机制保留 |

### 质量标准检查

| 质量标准 | 目标值 | 当前设计 | 状态 |
|---------|-------|---------|------|
| 核心循环时长 | 15-30分钟 | 15-30分钟动态节奏设计 | ✅ 符合 |
| 撤离成功率提升 | 30% → 70%+ | 通过技巧成长实现，多撤离点保证 | ✅ 符合 |
| 物资正反馈 | 每次3-5件有价值物品 | 蓝色品质以上物资设计目标 | ✅ 符合 |
| 视觉技术要求 | Lumen + Nanite | 全面应用UE5.7技术 | ✅ 符合 |
| 目标帧率 | PC 60fps+, 主机 30fps+ | 已设定性能目标 | ✅ 符合 |
| 新手理解时间 | 3-5次游玩 | 渐进式教程设计 | ✅ 符合 |
| 首次满载成就感 | 10小时内 | 难度曲线设计目标 | ✅ 符合 |
| 枪械手感标准 | 参考《逃离塔科夫》 | 真实后坐力、弹道、音效 | ✅ 符合 |

### 章程检查结论

✅ **全部通过** - 本设计计划符合所有设计支柱和质量标准要求，无违规项，可以进入Phase 1设计阶段。

## 项目结构

### 文档（此功能）

```
gamespecs/[###-feature]/
├── plan.md              # 此文件（/game.speckit.plan 命令输出）
├── research.md          # 第 0 阶段输出（/game.speckit.plan 命令）
├── quickstart.md        # 第 1 阶段输出（/game.speckit.plan 命令）
├── checklists/          # 质量检查清单
│   └── plan-quality.md
└── tasks.md             # 第 2 阶段输出（/game.speckit.tasks 命令）
```

### 设计产物结构（仓库根目录）

```
gamespecs/[###-feature]/
├── spec.md              # 游戏规范（输入）
├── plan.md              # 设计方案（本文件）
├── research.md          # 设计决策研究
├── quickstart.md        # 快速开始指南
├── frameworks/          # 设计框架文档（可选）
│   ├── gameplay-design.md       # 玩法设计框架
│   ├── numerical-framework.md   # 数值设计框架
│   ├── balance-analysis.md      # 平衡性分析框架
│   └── system-integration.md    # 系统集成框架
└── checklists/          # 质量检查清单
    └── plan-quality.md
```

**结构说明**：GameSpecKit 生成设计文档而非代码，frameworks/ 目录包含游戏设计特有的框架文档。

## 复杂度跟踪

> **仅当章程检查有必须证明的违规时才填写**

*本设计无章程违规项，此部分留空。*

---

## 设计产物清单

**规范类型识别**：本规范为**全局型规范（000-game-vision）**，关注游戏的核心愿景、玩法循环、世界观和情感设计，为后续功能型规范（001+）提供设计方向和约束。

根据 spec.md 内容分析和 research.md 的设计决策，本计划识别出以下**全局设计文档**：

### 全局设计文档（必需）

1. **game-vision.md** - 游戏愿景文档
   - **识别依据**：spec.md 包含"游戏类型与子类型"、"体验目标"、"参考游戏分析"、"独特卖点（USP）"
   - **目的**：定义游戏的核心价值主张、目标玩家、差异化优势和商业目标
   - **核心内容**：
     - 目标玩家画像（核心受众、扩展受众、视觉导向玩家）
     - 核心价值主张："良心硬核提取射击 + 电影级视觉"
     - 差异化优势（承诺"保证撤离"、可接近的硬核、良性积累循环）
     - 市场定位与参考游戏对比（《逃离塔科夫》、《Hunt: Showdown》、《第七日杀》等）
     - 商业目标与变现模式（拒绝影响核心玩法的氪金设计）
   - **内容来源**：spec.md 第26-105行（游戏愿景部分）+ research.md 第1节

2. **core-loop.md** - 核心玩法循环设计
   - **识别依据**：spec.md 包含"核心玩法循环"（短循环、长循环、元循环）和循环结构描述
   - **目的**：描述游戏的三层玩法循环、输入-反馈机制和循环之间的相互支持关系
   - **核心内容**：
     - **短循环（15-30分钟）**：准备装备 → 进入危险区 → 搜刮物资 → 战斗决策 → 前往撤离点 → 成功撤离 → 获得物资
     - **长循环（跨局成长）**：积累物资 → 升级装备/解锁配方 → 扩充仓库 → 接受更高难度任务 → 探索更危险区域 → 获取稀有物资 → 提升技能等级 → 选择阵营立场
     - **元循环（战略层）**：观察三大阵营任务奖励 → 评估阵营理念和专属资源 → 选择加入某阵营 → 完成阵营任务获得声望 → 解锁阵营专属物资/地图 → 调整阵营立场
     - 循环图绘制（输入、过程、输出、反馈）
     - 时间跨度定义（短循环15-30分钟、长循环10-20小时、元循环50-100小时）
   - **内容来源**：spec.md 第34-44行（核心玩法循环）+ research.md 第2节

3. **world-setting.md** - 世界观设定文档
   - **识别依据**：spec.md 包含"世界观概要"、"世界设定"、"核心冲突"（三大阵营）、"美术风格方向"
   - **目的**：定义游戏世界的规则体系、背景设定、派系关系和美术风格
   - **核心内容**：
     - **世界规则**：病毒机制、物资稀缺度、定居点系统、撤离点机制、背包容量系统
     - **时空背景**：2028年，病毒爆发后第3年（中期末世），大型都市圈废墟
     - **三大阵营体系**：
       - 秩序同盟（The Order）：重建文明理念，医疗资源侧重
       - 荒野猎人（The Wildcards）：适者生存理念，武器资源侧重
       - 黎明贸易团（The Dawn Traders）：务实主义理念，物资流通侧重
     - **阵营关系**：对立（秩序vs荒野）、合作（面对僵尸潮）、中立方（黎明贸易团）
     - **美术风格**：写实主义 + 末世荒凉美学，UE5.7 Lumen/Nanite技术，色彩方向（灰/棕/锈色主色调，暖橙/暗红/冷蓝强调色）
   - **内容来源**：spec.md 第106-203行（世界观概要部分）+ research.md 第3节和第5节

4. **emotional-curve.md** - 情感曲线设计
   - **识别依据**：spec.md 包含"情感曲线"（单局情感流、长期情感）和情感强度描述
   - **目的**：设计游戏的情感体验节奏、氛围营造手段和情感强度控制
   - **核心内容**：
     - **单局情感流（七阶段）**：
       1. 准备期（低紧张 2/10）：2-5分钟
       2. 探索期（中紧张 4/10）：3-8分钟
       3. 搜刮高峰（高兴奋 7/10）：1-3分钟（多次）
       4. 战斗期（极高紧张 9/10）：1-5分钟
       5. 逃离期（焦虑与希望 8/10）：2-5分钟
       6. 撤离成功（强释放 10/10）：30秒-2分钟
       7. 撤离失败（挫败但不绝望 3/10）：1-3分钟
     - **长期情感（跨局）**：积累满足感、技巧成长感、战略层满足
     - **氛围营造手段**：视觉氛围（Lumen/Nanite）、听觉氛围（环境音效/音乐）、叙事氛围（环境叙事）
     - 情感强度曲线图（横轴时间、纵轴强度）
     - 为每个阶段定义关键设计元素（音效、音乐、光照、事件触发）
   - **内容来源**：spec.md 第46-56行（情感曲线部分）+ research.md 第4节

### 设计产物输出顺序

建议按以下顺序产出全局设计文档（后续使用 `/game.speckit.tasks` 命令时参考）：

1. **Phase 1**：game-vision.md（定义核心价值主张和目标玩家）
2. **Phase 2**：core-loop.md（定义三层玩法循环）
3. **Phase 3**：world-setting.md（定义世界规则和阵营体系）
4. **Phase 4**：emotional-curve.md（定义情感节奏和氛围营造）

**重要说明**：全局型规范（000-*）产出的是**全局设计文档**，关注"为什么"（设计意图）而非"多少"（具体数值）。后续功能型规范（001+）将基于这些全局文档，产出具体的**功能设计文档**（如 gameplay-design.md、numerical-framework.md 等）。

---

## 设计支柱对齐验证

根据 `.game.specify/memory/pillars.md` 定义的设计支柱，验证本设计方案的对齐情况：

| 设计支柱 | 本设计的体现 | 对齐度 | 潜在冲突 |
|---------|------------|-------|---------|
| **支柱1：保证撤离的良性循环** | • 多撤离点设计（3-5个/区域）<br>• 部分随机刷新防止被封锁<br>• 备用撤离点提供安全路径<br>• 藏匿机制允许分次撤离<br>• 明确拒绝氪金影响撤离 | ✅ 完全对齐 | 无 |
| **支柱2：屯积的正反馈快感** | • 五级品质分级（白<绿<蓝<紫<金）<br>• 每次至少3-5件蓝色品质以上物资<br>• 动态掉落比例平衡"经常有收获"和"稀有惊喜"<br>• 仓库可视化系统强化积累满足感<br>• 背包容量限制增加战术取舍 | ✅ 完全对齐 | 无 |
| **支柱3：电影级视觉震撼** | • UE5.7 Lumen全局光照（动态光影、真实反射）<br>• Nanite虚拟几何（超高细节废墟）<br>• 动态天气系统（暴雨、沙尘暴）<br>• 写实美术风格参考《最后生还者2》<br>• 目标帧率：PC 60fps+、主机 30fps+ | ✅ 完全对齐 | 无 |
| **支柱4：可接近的硬核体验** | • 渐进式教程（"安全的危险区域"引导）<br>• 难度分层（低/中/高难度区域）<br>• 失败容错（保底装备、借贷任务）<br>• 可选辅助（挫败模式检测）<br>• 保留硬核深度（真实枪械、战术决策） | ✅ 完全对齐 | 无 |

### 对齐度详细分析

#### 支柱1：保证撤离的良性循环

**体现方式**：
- **设计决策**：多撤离点机制（research.md第6节）确保玩家有多条撤离路径选择
- **技术实现**：撤离点位置部分随机化，防止被老手长期封锁
- **玩法支持**：备用撤离点距离更远，创造"安全但耗时"vs"快速但危险"的战术选择
- **质量标准**：技巧型玩家撤离成功率至少60%

**对齐结论**：✅ 完全对齐，设计完全符合"良性循环"承诺，无妥协。

---

#### 支柱2：屯积的正反馈快感

**体现方式**：
- **品质系统**：五级品质分级创造"开箱"般的期待感（research.md第5节）
- **掉落设计**：动态掉落比例按难度区域分层，平衡"经常有收获"和"稀有惊喜"
- **收获保证**：每次成功撤离至少3-5件蓝色品质以上物资（spec.md第215行）
- **视觉反馈**：仓库系统提供清晰的品质筛选和分类，强化积累满足感

**对齐结论**：✅ 完全对齐，设计充分服务于"屯屯鼠"体验目标。

---

#### 支柱3：电影级视觉震撼

**体现方式**：
- **技术选型**：UE5.7 Lumen + Nanite全面应用（research.md第2节）
- **场景设计**：废墟建筑、动态天气、室内外光照对比充分利用Lumen优势
- **美术风格**：写实主义参考《最后生还者2》和《地铁：离去》（spec.md第179-203行）
- **性能目标**：PC 60fps+、主机 30fps+，确保视觉震撼不牺牲流畅度

**对齐结论**：✅ 完全对齐，技术方案和美术方向完全支持电影级视觉目标。

---

#### 支柱4：可接近的硬核体验

**体现方式**：
- **新手引导**：渐进式教程在"安全的危险区域"引导玩家（research.md第4节）
- **难度分层**：低/中/高难度区域自然分流硬核和休闲玩家
- **容错机制**：保底装备、借贷任务、技能永不丢失确保"东山再起"路径
- **硬核保留**：真实枪械手感、战术决策、永久损失机制保留深度

**对齐结论**：✅ 完全对齐，设计平衡了可接近性和硬核深度，符合"广泛受众"定位。

---

### 总体对齐结论

✅ **完全对齐，无需调整**

本设计计划在所有四个设计支柱上均实现完全对齐，无潜在冲突。研究阶段（Phase 0）的设计决策充分考虑了设计支柱的要求，所有子系统设计都服务于核心体验目标。后续设计产物（gameplay-design.md、numerical-framework.md等）应继续遵循这些设计支柱，确保最终产品符合《归途》的核心愿景。